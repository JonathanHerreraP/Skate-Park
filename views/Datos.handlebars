<!DOCTYPE html>
<html lang="en">
  <head>
   
  </head>
  <body>
    <h1>Skate Park</h1>

    <div class="py-4">
      <h2>Datos del perfil</h2>
      <hr class="w-50" />

      <form>
        <div class="form-group row w-50 m-auto">
          <div class="form-group col-12 col-sm-6">
            <label>Email</label>
            <input id="email"
              class="form-control m-auto"
              
            />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Nombre</label>
            <input id="nombre" class="form-control m-auto" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Password</label>
            <input id="password"
              type="password"
              class="form-control m-auto"
              
            />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Repita la password</label>
            <input id="repitapassword"
              type="password"
              class="form-control m-auto"
              
            />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>A単os de experiencia</label>
            <input id="a単os" class="form-control m-auto"  />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Especialidad</label>
            <input id="especialidad" class="form-control m-auto"  />
          </div>
        </div>
        <div class="mb-1">
          <button type="button" id="botonactualizar" class="btn btn-primary">Actualizar</button>
        </div>
        <div>
          <button type="button" id="botoneliminar" class="btn btn-danger">Eliminar cuenta</button>
        </div>
      </form>
    </div>
  </body>

  <script>
    // Capturamos con Jquery los inputs del formulario registro:

    // Actualiza datos de un usuario:
    $("#botonactualizar").click(async ()=>{

      const email = $("#email").val();
      const nombre = $("#nombre").val();
      const password = $("#password").val();
      const repitapassword = $("#repitapassword").val();
      const anos_experiencia = $("#a単os").val();
      const especialidad = $("#especialidad").val();
      
    const payload = {email, nombre, password, anos_experiencia, especialidad}
    console.log(payload)

    try{
      await axios.put("/actualizar", payload)
      alert("Usuario actualizado exitosamente")
      window.location.href = "Login"
    }
    catch(e){
      console.log(e)
    }
    });

    // Captura del formulario para eliminar una cuenta de usuario:
    $("#botoneliminar").click(async ()=>{

      const email = $("#email").val();
      const nombre = $("#nombre").val();
      const password = $("#password").val();
      const repitapassword = $("#repitapassword").val();
      const anos_experiencia = $("#a単os").val();
      const especialidad = $("#especialidad").val();
      
    const payload = {email, nombre, password, anos_experiencia, especialidad}
    console.log(payload)

    try{
      await axios.post("/eliminar", payload);
       alert("Usuario eliminado exitosamente")
      window.location.href = "Login"
    }
    catch(e){
      console.log(e)
    }
    });    
  </script>



</html>
